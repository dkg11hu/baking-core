<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23121212'/><path d='M30 70 L50 30 L70 70' stroke='%23f1c40f' stroke-width='8' fill='none'/></svg>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Baking Core | XS Driver</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="iphone-xs">
        <div class="notch"></div>
        <div class="screen-content">
            
            <section id="gateway-view">
                <div class="gateway-hero">
                    <h1 class="brand-title">Baking Core</h1>
                    
                    <div class="choice-container">
                        <button class="choice-card" onclick="window.viewHistory()">
                            <div class="icon">★</div>
                            <div class="choice-text">
                                <strong>HISTORY / FAVORITES</strong>
                                <span>Resume previous locked bakes</span>
                            </div>
                        </button>

                        <button class="choice-card highlight" onclick="window.openBrowser()">
                            <div class="icon">➔</div>
                            <div class="choice-text">
                                <strong>FULL CATALOG</strong>
                                <span>Browse international recipes</span>
                            </div>
                        </button>
                    </div>

                    <div id="history-list" class="hidden"></div>
                </div>
            </section>

            <section id="browser-view" class="hidden">
                <div class="sticky-header">
                    <div id="graphical-selector">
                        <div class="selector-tabs">
                            <button class="tab-btn active" data-view="map" onclick="window.switchSelector('map')">MAP</button>
                            <button class="tab-btn" data-view="flavor" onclick="window.switchSelector('flavor')">FLAVOR</button>
                        </div>
                        <div id="view-map"></div>
                        <div id="view-flavor" class="hidden"></div>
                    </div>
                    <div id="filter-chips" class="chip-container"></div>
                </div>
                
                <div id="tile-grid" class="tile-grid"></div>

                <div class="stepper-controls">
                    <button class="btn-nav" onclick="location.reload()">BACK</button>
                    <button class="btn-nav primary" id="next-to-params" disabled onclick="window.changeStep(1)">NEXT</button>
                </div>
            </section>

            <section id="workflow-view" class="hidden">
                <div id="discovery-root"></div>

                <div id="execution-root" class="hidden">
                    <div id="media-stage" class="media-container"></div>
                    <div class="content-stage">
                        <div id="step-metadata"></div>
                        <div id="step-description"></div>
                    </div>
                </div>

                <div class="stepper-controls">
                    <button class="btn-nav" onclick="window.changeStep(-1)">BACK</button>
                    <button class="btn-nav primary" onclick="window.changeStep(1)">NEXT</button>
                </div>
            </section>

        </div>
        <div class="home-indicator"></div>
    </div>
    <script type="module" src="app.js"></script>
</body>
</html>